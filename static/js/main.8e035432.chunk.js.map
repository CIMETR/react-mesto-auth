{"version":3,"sources":["reportWebVitals.js","components/Info.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/AuthPage.js","components/Login.js","components/Rigister.js","utils/auth.js","components/InfoTooltip.js","images/success.svg","images/unsuccess.svg","components/App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Info","loggedIn","email","onSignOut","className","to","onClick","withRouter","location","useLocation","pathname","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","item","cardDeleteButtonClassName","cardLikeButtonClassName","src","link","alt","name","onCardClick","type","onCardLike","length","onCardDelete","Main","onEditAvatar","onEditProfile","onAddPlace","handleCardLike","handleCardDelete","cards","avatar","about","map","Footer","PopupWithForm","title","isOpen","children","onSubmit","buttonText","onClose","noValidate","ImagePopup","api","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","_checkResponse","userData","body","JSON","stringify","data","id","all","getInitialCards","getUserInfo","authorization","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","isModal","placeholder","minLength","maxLength","pattern","required","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","ProtectedRoute","Component","component","AuthPage","formName","Register","onAuth","setEmail","password","setPassword","handleChange","onRegister","BASE_URL","handleResponse","response","getContent","token","InfoTooltip","imgPath","App","history","useHistory","setLoggedIn","isInfoTooltipOpen","setIsInfoTooltipOpen","text","message","setMessage","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","closeAllPopups","catch","err","console","log","jwt","localStorage","getItem","auth","push","tokenCheck","Provider","removeItem","exact","path","i","changeLikeCardStatus","newCard","state","c","delete","filter","result","success","unSuccess","finally","setItem","setUserInfoApi","cardData","addUserCard","handleUserAvatar","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.8e035432.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { Link } from \"react-router-dom\"\n\nexport default function Info({ loggedIn, email, onSignOut }) {\n  return (\n    <div className='header__info'>\n      <p className='header__email'>{email}</p>\n      <Link\n        to='sign-up'\n        className={`header__link ${loggedIn && 'header__link_state_active'}`}\n        onClick={onSignOut}\n      >\n        Выйти\n      </Link>\n    </div>\n  )\n}","import Info from \"./Info\"\nimport React from 'react';\nimport { Link, withRouter, useLocation } from 'react-router-dom';\n\nfunction Header({ loggedIn, email, onSignOut }) {\n  const location = useLocation()\n  \n  return (\n    <header className=\"header\">\n      <div className=\"header__logo\"></div>\n      {\n        loggedIn ?\n        <Info email={email} loggedIn={loggedIn} onSignOut={onSignOut} /> :\n        (<>\n          {\n            location.pathname === '/sign-up' ? \n            <Link className='header__link' to='/sign-in'>Регистрация</Link> :\n            <Link className='header__link' to='/sign-up'>Войти</Link>\n          }\n        </>)\n      }\n    </header>\n  )\n}\n\nexport default withRouter(Header)","import React from 'react'\n\nexport const CurrentUserContext = React.createContext()","import React from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext)\n  const isOwn = props.card.owner._id === currentUser._id\n  const isLiked = props.card.likes.some((item) => item._id === currentUser._id)\n  const cardDeleteButtonClassName = (\n    `elements__remove-button ${isOwn ? '' : 'elements__remove-button_state_hidden'}`\n  )\n  const cardLikeButtonClassName  = (\n    `elements__like-button ${isLiked ? 'elements__like-button_active' : ''}`\n  )\n\n  function handleCardClick() {\n    props.onCardClick(props.card)\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card)\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card)\n  }\n\n  return(\n    <li className=\"elements__card\">\n      <img\n        src={props.card.link}\n        className=\"elements__image\"\n        alt={props.card.name}\n        onClick={handleCardClick}\n      />\n      <div className=\"elements__title-wrapper\">\n        <h2 className=\"elements__title\">{props.card.name}</h2>\n        <div className=\"elements__like-wrapper\">\n          <button\n          type=\"button\"\n          className={cardLikeButtonClassName}\n          onClick={handleLikeClick}\n          >\n          </button>\n          <span className=\"elements__like-count\">{props.card.likes.length}</span>\n        </div>\n      </div>\n      <button\n      className={cardDeleteButtonClassName}\n      onClick={handleDeleteClick}\n      >\n      </button>\n    </li>\n  )\n}\n\nexport default Card","import React from 'react'\nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, handleCardLike, handleCardDelete, cards}) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-wrapper\">\n          <img\n            src={currentUser.avatar}\n            alt=\"Изображение профиля\"\n            className=\"profile__avatar\"\n          />\n          <button\n            type=\"button\"\n            className=\"profile__avatar-edit-button\"\n            onClick={onEditAvatar}\n          >\n          </button>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__container\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              type=\"button\"\n              className=\"profile__edit-button\"\n              onClick={onEditProfile}\n            >\n            </button>\n          </div>\n          <h2 className=\"profile__about\">{currentUser.about}</h2>\n        </div>\n        <button\n          type=\"button\"\n          className=\"profile__add-button\"\n          onClick={onAddPlace}\n        >\n        </button>\n      </section>\n      <section className=\"elements-container\">\n        <ul className=\"elements\">\n          {\n            cards.map((card) => (<Card key={card._id}\n            card={card}\n            onCardClick={onCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            />))\n          }\n        </ul>\n      </section>\n    </main>\n  )\n}\n\nexport default Main","import { useLocation } from 'react-router-dom';\n\nfunction Footer() {\n  const location = useLocation()\n\n  return (\n    <>\n      {\n        location.pathname === '/sign-up' ?\n        (<></>) :\n          location.pathname === '/sign-in' ?\n            (<></>)\n           :\n          (<footer className=\"footer\">\n            <p className=\"footer__copyrights\">&copy; 2021 Константин Антипин</p>\n          </footer>)\n      }\n    </>\n  )\n}\n\nexport default Footer","\nfunction PopupWithForm({ name, title, isOpen, children, onSubmit, buttonText, onClose }) {\n  return (\n    <div className={`popup ${isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container popup__overlay\">\n        <form\n        className=\"popup__form\"\n        name={name}\n        noValidate\n        onSubmit={onSubmit}\n        >\n          <h2 className=\"popup__title\">{title}</h2>\n          {children}\n          <button\n            type=\"submit\"\n            className=\"popup__button\"\n            >\n              {buttonText}\n            </button>\n        </form>\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={onClose}\n        >\n        </button>\n      </div>  \n    </div>\n\n    // <div className={`popup ${isOpen ? 'popup_opened' : ''}`}>\n    //   <div className=\"popup__container popup__overlay\">\n    //     <form\n    //       className={`popup__form ${name === 'tooltip' ? 'popup__form_type_tooltip' : ''}`}\n    //       name={name}\n    //       noValidate\n    //       onSubmit={onSubmit}\n    //     >\n    //       {\n    //         name === 'tooltip' && \n    //           (<img\n    //             src={imgPath}\n    //             alt={name}\n    //             className='popup__tooltip'\n    //           />)\n    //       }\n    //       <h2 className={`popup__title ${name === 'tooltip' ? 'popup__title_type_tooltip' : ''}`}>{title}</h2>\n    //       {children}\n    //       <button\n    //         type=\"submit\"\n    //         className={`popup__button ${name === 'tooltip' ? 'popup__button_hidden' : ''}`}\n    //       >\n    //         {buttonText}\n    //       </button>\n    //     </form>\n    //     <button\n    //       type=\"button\"\n    //       className=\"popup__close-button\"\n    //       onClick={onClose}\n    //     >\n    //     </button>\n    //   </div>  \n    // </div>\n  )\n}\n\nexport default PopupWithForm","function ImagePopup(props) {\n  \n  return (\n    <div className={`popup popup_zoom-image ${props.card ? 'popup_opened' : ''}`}>\n      <div className=\"popup__figure-container popup__overlay\">\n        <figure className=\"popup__figure\">\n          <img\n            src={props.card ? props.card.link : '#'}\n            className=\"popup__image\"\n            alt={props.card ? props.card.name : ''}\n          />\n          <figcaption\n            className=\"popup__caption\">\n              {props.card ? props.card.name : ''}\n          </figcaption>\n        </figure>\n        <button\n          type=\"button\"\n          className=\"popup__close-button popup__close-button_zoom-image\"\n          onClick={props.onClose}\n        >\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup","class Api {\n  constructor(options) {\n    this._url = options.url\n    this._headers = options.headers\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json()\n    }\n    return Promise.reject(`Ошибка: ${res.status}`)\n  }\n\n  getUserInfo() {\n    return fetch(this._url + '/users/me', {\n      method: 'GET',\n      headers: this._headers\n    })\n      .then(this._checkResponse)\n  }\n\n  getInitialCards() {\n    return fetch(this._url + '/cards', {\n      method: 'GET',\n      headers: this._headers\n    })\n    .then(this._checkResponse)\n  }\n\n  setUserInfoApi(userData) {\n    return fetch(this._url + '/users/me', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: userData.name,\n        about: userData.about\n      })\n    })\n    .then(this._checkResponse)\n  }\n\n  addUserCard(data) {\n    return fetch(this._url + '/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n    .then(this._checkResponse)\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(this._url + `/cards/likes/${id}`, {\n      method: `${isLiked ? 'PUT' : 'DELETE'}`,\n      headers: this._headers\n    })\n    .then(this._checkResponse)\n  }\n\n  delete(id) {\n    return fetch(this._url + `/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then(this._checkResponse)\n  }\n\n  handleUserAvatar(data) {\n    return fetch(this._url + `/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      })\n    })\n    .then(this._checkResponse)\n  }\n\n  getAllNeededData() {\n    return Promise.all([this.getInitialCards(), this.getUserInfo()])\n  }\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-27',\n  headers: {\n    authorization: '68b64d50-5120-47e2-bc75-6d39addfe324',\n    'Content-Type': 'application/json'\n  }\n})\n\nexport { api }","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup({ isOpen, onUpdateUser, onClose }) {\n  const [name, setName] = React.useState('')\n  const [description, setDescription] = React.useState('')\n  const currentUser = React.useContext(CurrentUserContext)\n\n  React.useEffect(() => {\n    setName(currentUser.name)\n    setDescription(currentUser.about)\n  }, [currentUser, isOpen])\n\n  function handleNameChange(e) {\n    setName(e.target.value)\n  }\n  \n  function handleDescriptionChange(e) {\n    setDescription(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onUpdateUser({\n      name: name,\n      about: description,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name='profile-edit'\n      onSubmit={handleSubmit}\n      title='Редактировать профиль'\n      buttonText='Сохранить'\n      isModal={true}\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n       <input\n        name=\"userName\"\n        type=\"text\"\n        className=\"popup__input popup__input_data_name\"\n        id=\"userName-input\"\n        placeholder=\"Имя\"\n        minLength=\"2\"\n        maxLength=\"40\" pattern=\"^[a-zA-Zа-яА-я-\\s]+$\"\n        required\n        value={name || ''}\n        onChange={handleNameChange}\n      />\n      <span className=\"popup__input-error userName-input-error\"></span>\n      <input\n        name=\"userAbout\"\n        type=\"text\"\n        className=\"popup__input popup__input_data_about\"\n        id=\"userAbout-input\"\n        placeholder=\"Профессия\"\n        minLength=\"2\"\n        pattern=\"^[a-zA-Zа-яА-я-\\s]+$\"\n        maxLength=\"200\"\n        required\n        value={description || ''}\n        onChange={handleDescriptionChange}\n      />\n      <span className=\"popup__input-error userAbout-input-error\"></span>\n    </PopupWithForm>  \n  )\n}\n\nexport default EditProfilePopup","import React, { useEffect } from 'react'\nimport PopupWithForm from './PopupWithForm'\n// import Form from './Form'\n\nfunction EditAvatarPopup({ isOpen, onUpdateAvatar, onClose }) {\n  const avatarRef = React.useRef('')\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onUpdateAvatar({\n      avatar: avatarRef.current.value\n    })\n  }\n\n  useEffect(() => {\n    avatarRef.current.value = ''\n  }, [isOpen])\n\n  return (\n    <PopupWithForm\n      name='profile-edit'\n      onSubmit={handleSubmit}\n      title='Редактировать профиль'\n      buttonText='Сохранить'\n      isModal={true}\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <input\n        name=\"userAvatar\"\n        type=\"url\"\n        className=\"popup__input popup__input_data_about\"\n        id=\"userAvatar-input\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        ref={avatarRef}\n      />\n      <span className=\"popup__input-error userAvatar-input-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup","import React, { useEffect } from 'react'\nimport PopupWithForm from './PopupWithForm'\n// import Form from './Form'\n\nfunction AddPlacePopup({ isOpen, onAddPlace, onClose }) {\n  const [name, setName] = React.useState('')\n  const [link, setLink] = React.useState('')\n\n  function handleNameChange(e) {\n    setName(e.target.value)\n  }\n  \n  function handleLinkChange(e) {\n    setLink(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onAddPlace({\n      name: name,\n      link: link,\n    })\n  }\n\n  useEffect(() => {\n    setName('')\n    setLink('')\n  }, [isOpen])\n\n  return (\n    <PopupWithForm\n      name='card-add'\n      title='Новое место'\n      buttonText='Создать'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isModal={true}\n    >\n      <input\n        name=\"name\"\n        type=\"text\"\n        className=\"popup__input popup__input_place_name\"\n        id=\"placeName-input\"\n        placeholder=\"Название\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        pattern=\"^[a-zA-Zа-яА-я-\\s]+$\"\n        required\n        onChange={handleNameChange}\n        value={name}\n      />\n      <span className=\"popup__input-error placeName-input-error\"></span>\n      <input\n        name=\"link\"\n        type=\"url\"\n        className=\"popup__input popup__input_place_url\"\n        id=\"placeUrl-input\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        onChange={handleLinkChange}\n        value={link}\n      />\n      <span className=\"popup__input-error placeUrl-input-error\"></span>\n      {/* <button\n        type=\"button\"\n        className=\"popup__close-button\"\n        onClick={onClose}\n      >\n      </button>         */}\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup","import { Route, Redirect } from \"react-router-dom\"\n\nexport default function ProtectedRoute( { component: Component, ...props } ) {\n  return (\n    <Route>\n      {\n        () => (props.loggedIn ? <Component {...props} /> : <Redirect to='/sign-in' />)\n      }\n    </Route>\n  )\n}","import React from 'react'\nimport { Link } from 'react-router-dom';\n\nexport default function AuthPage (\n{\n  formName,\n  onSubmit,\n  title,\n  children,\n  buttonText,\n}) {\n  return (\n    <div className='auth-page'>\n        <form\n          className='auth-page__form'\n          name={formName}\n          noValidate\n          onSubmit={onSubmit}\n        >\n          <h2 className='auth-page__title'>{title}</h2>\n            {children}\n          <button\n            type=\"submit\"\n            className='auth-page__button'\n          >\n            {buttonText}\n          </button>\n          {\n            formName === 'register' &&\n            <Link className='auth-page__link' to='/sign-up'>Уже зарегистрированы? Войти</Link>\n          }\n        </form>\n    </div>\n  )\n}","import React from 'react'\nimport AuthPage from './AuthPage'\n\nexport default function Register({ onAuth }) {\n\n  const [email, setEmail] = React.useState('')\n  const [password, setPassword] = React.useState('')\n\n  function handleChange(e) {\n    const {value} = e.target\n    e.target.name === 'Email' ? setEmail(value) : setPassword(value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onAuth(password, email)\n  }\n\n  return (\n    <div className='login'>\n      <AuthPage\n        formName='login'\n        onSubmit={handleSubmit}\n        title='Вход'\n        buttonText='Войти'\n      >\n        <input\n          name=\"Email\"\n          type=\"email\"\n          className=\"popup__input popup__input_type_login\"\n          id=\"email\"\n          placeholder=\"Email\"\n          minLength=\"6\"\n          maxLength=\"40\"\n          required\n          value={email || ''}\n          onChange={handleChange}\n        />\n        {/* <span className=\"popup__input-error userName-input-error\"></span> */}\n        <input\n          name=\"Password\"\n          type=\"password\"\n          className=\"popup__input popup__input_type_login\"\n          id=\"password\"\n          placeholder=\"Пароль\"\n          minLength=\"6\"\n          maxLength=\"40\"\n          required\n          value={password || ''}\n          onChange={handleChange}\n        />\n        {/* <span className=\"popup__input-error userAbout-input-error\"></span> */}\n      </AuthPage>\n    </div>\n  )\n}","import React, { useState } from 'react'\nimport AuthPage from './AuthPage'\n\nexport default function Register({ onRegister }) {\n\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n\n  function handleChange(e) {\n    const {value} = e.target\n    e.target.name === 'Email' ? setEmail(value) : setPassword(value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    onRegister(password, email)\n  }\n\n  return (\n    <div className='register'>\n      <AuthPage\n        formName='register'\n        onSubmit={handleSubmit}\n        title='Регистрация'\n        buttonText='Зарегистрироваться'\n      >\n        <input\n          name=\"Email\"\n          type=\"email\"\n          className=\"popup__input popup__input_type_login\"\n          id=\"email\"\n          placeholder=\"Email\"\n          minLength=\"6\"\n          maxLength=\"40\"\n          required\n          value={email || ''}\n          onChange={handleChange}\n        />\n        {/* <span className=\"popup__input-error userName-input-error\"></span> */}\n        <input\n          name=\"Password\"\n          type=\"password\"\n          className=\"popup__input popup__input_type_login\"\n          id=\"password\"\n          placeholder=\"Пароль\"\n          minLength=\"6\"\n          maxLength=\"40\"\n          required\n          value={password || ''}\n          onChange={handleChange}\n        />\n        {/* <span className=\"popup__input-error userAbout-input-error\"></span> */}\n      </AuthPage>\n    </div>\n  )\n}","export const BASE_URL = 'https://auth.nomoreparties.co'\n\nconst handleResponse = response => response.ok ? response.json() : Promise.reject(`Ошибка ${response.status}`)\n\nexport const register = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({password, email})\n  })\n  .then(handleResponse)\n}\n\nexport const authorize = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({password, email})\n  })\n  .then(handleResponse)\n  .then((data) => {\n    if (data.token) {\n      localStorage.setItem('jwt', data.token)\n      return data.token\n    }\n  })\n}\n\nexport const getContent = token => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\" : `Bearer ${token}`\n    }\n  })\n  .then(handleResponse)\n  // .then(res => console.log(res))\n}","export default function InfoTooltip({ isOpen, onClose, title, imgPath }) {\n  return (\n    <div className={`popup ${isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container popup__overlay\">\n\n        <div className='popup__wrapper'>\n          <img src={imgPath} alt={imgPath} className='popup__tooltip' />\n\n          <h2 className=\"popup__title popup__title_type_tooltip\">{title}</h2>\n        </div>\n\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={onClose}\n        >\n        </button>\n      </div>  \n    </div>\n  )\n}","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/unsuccess.df8eddf6.svg\";","import React, { useState, useEffect } from 'react'\nimport { Route, Switch, useHistory } from 'react-router-dom'\nimport Header from './Header'\nimport Main from './Main'\nimport Footer from './Footer'\nimport PopupWithForm from './PopupWithForm'\nimport ImagePopup from './ImagePopup'\nimport { api } from '../utils/api'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport ProtectedRoute from './ProtectedRoute';\nimport Login from './Login'\nimport Register from './Rigister'\nimport * as auth from '../utils/auth'\nimport InfoTooltip from './InfoTooltip'\nimport success from '../images/success.svg'\nimport unSuccess from '../images/unsuccess.svg'\n\n\nfunction App() {\n  const history = useHistory()\n\n  const [loggedIn, setLoggedIn] = useState(false)\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false)\n  const [message, setMessage] = useState({ imgPath: '', text: '' })\n  \n  const [email, setEmail] = useState('')\n\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false)\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false)\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false)\n  const [selectedCard, setSelectedCard] = useState(null)\n  const [cards, setCards] = useState([])\n  const [currentUser, setCurrentUser] = useState({})\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true)\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true)\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false)\n    setEditProfilePopupOpen(false)\n    setAddPlacePopupOpen(false)\n    setSelectedCard(null)\n    setIsInfoTooltipOpen(false)\n  }\n\n  function onCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  function onUpdateUser(userData) {\n    api.setUserInfoApi(userData)\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err))\n  }\n\n  function onUpdateAvatar(userData) {\n    api.handleUserAvatar(userData)\n      .then((data) => {\n        setCurrentUser(data)\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err))\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\n      })\n      .catch((err) => console.log(err))\n  }\n\n  function handleCardDelete(card) {\n    api.delete(card._id)\n      .then(() => {\n        setCards(cards => cards.filter((item) => item !== card))\n      })\n      .catch((err) => console.log(err))\n  }\n\n  function handleAddPlaceSubmit(cardData) {\n    api.addUserCard(cardData)\n      .then((newCard) => {\n        setCards([newCard, ...cards])\n        closeAllPopups()\n      })\n      .catch((err) => console.log(err))\n  }\n\n  useEffect(() => {\n    api.getInitialCards()\n      .then((data) => {\n        setCards(data)\n      })\n      .catch((err) => console.log(err))\n  }, [])\n\n  useEffect(() => {\n    api.getUserInfo()\n      .then((data) => {\n        setCurrentUser(data)\n      })\n      .catch((err) => console.log(err))\n  }, [])\n\n  useEffect(() => {\n    tokenCheck()\n  }, [])\n\n  function tokenCheck() {\n    const jwt = localStorage.getItem('jwt')\n\n    if(jwt) {\n      auth.getContent(jwt)\n        .then((res) => {\n          if(res) {\n            setLoggedIn(true)\n            setEmail(res.data.email)\n            history.push('/')\n          }\n        })\n        .catch((err) => console.log(err))\n    }\n  }\n\n  function handleRegistration(password, email) {\n    auth.register(password, email)\n      .then((result) => {\n        setEmail(result.data.email)\n        setMessage({ imgPath: success, text: 'Вы успешно зарегистрировались!' })\n      })\n      .catch(() => setMessage({ imgPath: unSuccess, text: 'Что-то пошло не так! Попробуйте ещё раз.' }))\n      .finally(() => setIsInfoTooltipOpen(true))\n  }\n\n  function handleAuth(password, email) {\n    auth.authorize(password, email)\n      .then((token) => {\n        auth.getContent(token)\n          .then((res) => {\n            setEmail(res.data.email)\n            setLoggedIn(true)\n            history.push('/')\n          })\n      })\n      .catch((err) => console.log(err))\n  }\n\n  function onSignOut() {\n    localStorage.removeItem('jwt')\n    setLoggedIn(false)\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header\n          loggedIn={loggedIn}\n          email={email}\n          onSignOut={onSignOut}\n        />\n        <Switch>\n          <ProtectedRoute\n            exact path='/'\n            loggedIn={loggedIn}\n            component={Main}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={onCardClick}\n            handleCardLike={handleCardLike}\n            handleCardDelete={handleCardDelete}\n            cards={cards}\n          />\n          <Route path='/sign-in'>\n            <Register\n              isOpen={isEditProfilePopupOpen}\n              onRegister={handleRegistration}\n              isInfoTooltipOpen={isInfoTooltipOpen}\n            />\n          </Route>\n          <Route path='/sign-up'>\n            <Login\n              isOpen={isEditProfilePopupOpen}\n              onAuth={handleAuth}\n            />\n          </Route>\n        </Switch>\n        <Footer />\n        <InfoTooltip\n          name='tooltip'\n          isOpen={isInfoTooltipOpen}\n          onClose={closeAllPopups}\n          title={message.text}\n          imgPath={message.imgPath}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={onUpdateUser}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}        \n          onAddPlace={handleAddPlaceSubmit}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={onUpdateAvatar}\n        />\n        <PopupWithForm\n          name='confirm-delete'\n          title='Вы уверены?'\n          buttonText='Да'\n        />\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename='/'>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}